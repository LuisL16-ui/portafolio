import{r as o,j as r,u as ce,B as h,e as le,g as m,H as z,N as ue,S as M,ag as F,h as de,x as pe,ac as me,P as xe,p as ee,G as fe,w as he}from"./mui-B8mz2kpq.js";import{a as ge,b as be}from"./cardStyles-CBsxcB05.js";import{y as V}from"./App-DjjLqYsV.js";import{m as H}from"./motion-BMa9ZXLW.js";import"./vendor-gH-7aFTg.js";import"./index-L-FyuDIG.js";var ve=({as:n="div",...u},l)=>r.jsx(n,{...u,ref:l}),we=o.forwardRef(ve),ye="https://challenges.cloudflare.com/turnstile/v0/api.js",G="cf-turnstile-script",je="cf-turnstile",_="onloadTurnstileCallback",re=n=>!!document.getElementById(n),Ee=({render:n="explicit",onLoadCallbackName:u=_,scriptOptions:{nonce:l="",defer:e=!0,async:x=!0,id:g="",appendTo:b,onError:v,crossOrigin:d=""}={}})=>{let f=g||G;if(re(f))return;let c=document.createElement("script");c.id=f,c.src=`${ye}?onload=${u}&render=${n}`,!document.querySelector(`script[src="${c.src}"]`)&&(c.defer=!!e,c.async=!!x,l&&(c.nonce=l),d&&(c.crossOrigin=d),v&&(c.onerror=v,delete window[u]),(b==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(c))},I={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function ke(n){if(n!=="invisible"&&n!=="interactionOnly")return n}function Te(n=G){let[u,l]=o.useState(!1);return o.useEffect(()=>{let e=()=>{re(n)&&l(!0)},x=new MutationObserver(e);return x.observe(document,{childList:!0,subtree:!0}),e(),()=>{x.disconnect()}},[n]),u}var A="unloaded",te,Se=new Promise((n,u)=>{te={resolve:n,reject:u},A==="ready"&&n(void 0)}),Ce=(n=_)=>(A==="unloaded"&&(A="loading",window[n]=()=>{te.resolve(),A="ready",delete window[n]}),Se),ne=o.forwardRef((n,u)=>{let{scriptOptions:l,options:e={},siteKey:x,onWidgetLoad:g,onSuccess:b,onExpire:v,onError:d,onBeforeInteractive:f,onAfterInteractive:c,onUnsupported:T,onTimeout:w,onLoadScript:D,id:O,style:q,as:N="div",injectScript:s=!0,rerenderOnCallbackChange:t=!1,...K}=n,p=e.size,X=o.useCallback(()=>typeof p>"u"?{}:e.execution==="execute"?I.invisible:e.appearance==="interaction-only"?I.interactionOnly:I[p],[e.execution,p,e.appearance]),[ae,B]=o.useState(X()),y=o.useRef(null),[S,Y]=o.useState(!1),i=o.useRef(),L=o.useRef(!1),J=O||je,j=o.useRef({onSuccess:b,onError:d,onExpire:v,onBeforeInteractive:f,onAfterInteractive:c,onUnsupported:T,onTimeout:w});o.useEffect(()=>{t||(j.current={onSuccess:b,onError:d,onExpire:v,onBeforeInteractive:f,onAfterInteractive:c,onUnsupported:T,onTimeout:w})});let U=l?.id||G,W=Te(U),Q=l?.onLoadCallbackName||_,oe=e.appearance||"always",R=o.useMemo(()=>({sitekey:x,action:e.action,cData:e.cData,theme:e.theme||"auto",language:e.language||"auto",tabindex:e.tabIndex,"response-field":e.responseField,"response-field-name":e.responseFieldName,size:ke(p),retry:e.retry||"auto","retry-interval":e.retryInterval||8e3,"refresh-expired":e.refreshExpired||"auto","refresh-timeout":e.refreshTimeout||"auto",execution:e.execution||"render",appearance:e.appearance||"always","feedback-enabled":e.feedbackEnabled||!0,callback:a=>{L.current=!0,t?b?.(a):j.current.onSuccess?.(a)},"error-callback":t?d:(...a)=>j.current.onError?.(...a),"expired-callback":t?v:(...a)=>j.current.onExpire?.(...a),"before-interactive-callback":t?f:(...a)=>j.current.onBeforeInteractive?.(...a),"after-interactive-callback":t?c:(...a)=>j.current.onAfterInteractive?.(...a),"unsupported-callback":t?T:(...a)=>j.current.onUnsupported?.(...a),"timeout-callback":t?w:(...a)=>j.current.onTimeout?.(...a)}),[e.action,e.appearance,e.cData,e.execution,e.language,e.refreshExpired,e.responseField,e.responseFieldName,e.retry,e.retryInterval,e.tabIndex,e.theme,e.feedbackEnabled,e.refreshTimeout,x,p,t,t?b:null,t?d:null,t?v:null,t?f:null,t?c:null,t?T:null,t?w:null]),C=o.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return o.useEffect(function(){s&&!S&&Ee({onLoadCallbackName:Q,scriptOptions:{...l,id:U}})},[s,S,l,U]),o.useEffect(function(){A!=="ready"&&Ce(Q).then(()=>Y(!0)).catch(console.error)},[]),o.useEffect(function(){if(!y.current||!S)return;let a=!1;return(async()=>{if(a||!y.current)return;let E=window.turnstile.render(y.current,R);i.current=E,i.current&&g?.(i.current)})(),()=>{a=!0,i.current&&(window.turnstile.remove(i.current),L.current=!1)}},[J,S,R]),o.useImperativeHandle(u,()=>{let{turnstile:a}=window;return{getResponse(){if(!a?.getResponse||!i.current||!C()){console.warn("Turnstile has not been loaded");return}return a.getResponse(i.current)},async getResponsePromise(E=3e4,ie=100){return new Promise((se,$)=>{let k,Z=async()=>{if(L.current&&window.turnstile&&i.current)try{let P=window.turnstile.getResponse(i.current);return k&&clearTimeout(k),P?se(P):$(new Error("No response received"))}catch(P){return k&&clearTimeout(k),console.warn("Failed to get response",P),$(new Error("Failed to get response"))}k||(k=setTimeout(()=>{k&&clearTimeout(k),$(new Error("Timeout"))},E)),await new Promise(P=>setTimeout(P,ie)),await Z()};Z()})},reset(){if(!a?.reset||!i.current||!C()){console.warn("Turnstile has not been loaded");return}e.execution==="execute"&&B(I.invisible);try{L.current=!1,a.reset(i.current)}catch(E){console.warn(`Failed to reset Turnstile widget ${i}`,E)}},remove(){if(!a?.remove||!i.current||!C()){console.warn("Turnstile has not been loaded");return}B(I.invisible),L.current=!1,a.remove(i.current),i.current=null},render(){if(!a?.render||!y.current||!C()||i.current){console.warn("Turnstile has not been loaded or container not found");return}let E=a.render(y.current,R);return i.current=E,i.current&&g?.(i.current),e.execution!=="execute"&&B(p?I[p]:{}),E},execute(){if(e.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!a?.execute||!y.current||!i.current||!C()){console.warn("Turnstile has not been loaded or container not found");return}a.execute(y.current,R),B(p?I[p]:{})},isExpired(){return!a?.isExpired||!i.current||!C()?(console.warn("Turnstile has not been loaded"),!1):a.isExpired(i.current)}}},[i,e.execution,p,R,y,C,S,g]),o.useEffect(()=>{W&&!S&&window.turnstile&&Y(!0)},[S,W]),o.useEffect(()=>{B(X())},[e.execution,p,oe]),o.useEffect(()=>{!W||typeof D!="function"||D()},[W]),r.jsx(we,{ref:y,as:N,id:J,style:{...ae,...q},...K})});ne.displayName="Turnstile";const Ie="https://workers-playground-dark-term-90af.luislopezp913.workers.dev/api",De=()=>{const n=ce(),u=ge(n),l=be(n),[e,x]=o.useState({name:"",email:"",subject:"",message:""}),[g,b]=o.useState(!1),[v,d]=o.useState(null),[f,c]=o.useState(""),[T,w]=o.useState(!1);o.useEffect(()=>{const s=document.querySelector('script[src*="turnstile"]');if(!window.turnstile&&!T&&!s){const t=document.createElement("script");t.src="https://challenges.cloudflare.com/turnstile/v0/api.js",t.async=!0,t.defer=!0,t.onload=()=>w(!0),t.onerror=()=>{w(!1),c("Error al cargar la verificación de seguridad.")},document.head.appendChild(t)}else window.turnstile?w(!0):s&&setTimeout(()=>{window.turnstile&&w(!0)},1e3)},[]);const D=async s=>{if(s.preventDefault(),!v){c("Por favor, completa la verificación de seguridad.");return}c(""),b(!0);try{const t=new URLSearchParams;t.append("name",e.name.trim()),t.append("email",e.email.trim()),t.append("subject",e.subject.trim()),t.append("message",e.message.trim()),t.append("submittedAt",new Date().toISOString()),(await fetch(Ie,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:t.toString()})).ok?(x({name:"",email:"",subject:"",message:""}),d(null),V.success("¡Mensaje enviado exitosamente! Te responderé pronto.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})):V.error("Error al enviar el mensaje. Por favor, inténtalo de nuevo más tarde.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}catch(t){console.error(t),V.error("Error al enviar el mensaje. Por favor, inténtalo de nuevo más tarde.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}b(!1)},O=s=>{x(t=>({...t,[s.target.name]:s.target.value}))},q=[{icon:me,label:"Ubicación",value:"Sinaloa, México",href:"#",description:"También trabajo remotamente"}],N=[{icon:fe,label:"GitHub",href:"https://github.com/LuisL16-ui",username:"#",color:"#333"},{icon:he,label:"LinkedIn",href:"https://www.linkedin.com/in/luis-lopez-7a33a9281/",username:"#",color:"#0077B5"}];return r.jsx(h,{id:"contact",sx:{py:{xs:8,md:12},backgroundColor:"background.default"},children:r.jsxs(le,{maxWidth:"lg",children:[r.jsx(H.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:r.jsxs(h,{sx:{textAlign:"center",mb:8},children:[r.jsx(m,{variant:"h2",sx:u.gradientTitle,children:"¡Hablemos!"}),r.jsx(h,{sx:l.gradientDivider}),r.jsx(m,{variant:"h6",color:"text.secondary",sx:{maxWidth:700,mx:"auto",lineHeight:1.6},children:"¿Tienes un proyecto en mente? ¿Necesitas una consulta técnica? ¿O simplemente quieres saludar? Me encantaría conocer tu historia y ver cómo puedo ayudarte."})]})}),r.jsxs(h,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:6},children:[r.jsx(h,{sx:{flex:{xs:1,lg:7}},children:r.jsx(H.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:r.jsx(z,{sx:{background:n.palette.mode==="dark"?"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(30, 41, 59, 0.95) 100%)":"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(255, 255, 255, 1) 100%)",border:`1px solid ${n.palette.mode==="dark"?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.1)"}`,boxShadow:n.palette.mode==="dark"?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(59, 130, 246, 0.1)"},children:r.jsxs(ue,{sx:{p:4},children:[r.jsx(m,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Envíame un mensaje"}),r.jsx(h,{component:"form",onSubmit:D,sx:{mt:3},children:r.jsxs(M,{spacing:3,children:[r.jsxs(h,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:3},children:[r.jsx(F,{fullWidth:!0,name:"name",label:"Nombre completo",value:e.name,onChange:O,required:!0,placeholder:"Tu nombre"}),r.jsx(F,{fullWidth:!0,name:"email",label:"Email",type:"email",value:e.email,onChange:O,required:!0,placeholder:"tu@email.com"})]}),r.jsx(F,{fullWidth:!0,name:"subject",label:"Asunto",value:e.subject,onChange:O,required:!0,placeholder:"¿En qué puedo ayudarte?"}),r.jsx(F,{fullWidth:!0,name:"message",label:"Mensaje",multiline:!0,rows:6,value:e.message,onChange:O,required:!0,placeholder:"Cuéntame sobre tu proyecto, consulta o simplemente saluda..."}),r.jsxs(h,{sx:{mb:2},children:[r.jsx(m,{variant:"body2",sx:{mb:2,fontWeight:600},children:"Verificación de seguridad:"}),T?r.jsx(ne,{siteKey:"0x4AAAAAABw8YfT1CfP680X4",onSuccess:s=>{d(s),c("")},onError:()=>{d(null),c("Error en la verificación. Inténtalo de nuevo.")},onExpire:()=>{d(null),c("La verificación ha expirado. Por favor, refresca.")}}):r.jsx(m,{variant:"body2",color:"text.secondary",children:"Cargando verificación de seguridad..."}),f&&r.jsx(m,{variant:"caption",color:"error",children:f})]}),r.jsx(de,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:g,startIcon:g?r.jsx(pe,{size:20,color:"inherit"}):"",children:g?"Enviando...":"Enviar mensaje"})]})})]})})})}),r.jsxs(h,{sx:{flex:{xs:1,lg:5},display:"flex",flexDirection:"column",gap:4},children:[r.jsx(H.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:r.jsxs(z,{sx:{p:3,background:n.palette.background.paper,border:`1px solid ${n.palette.divider}`},children:[r.jsx(m,{variant:"h5",gutterBottom:!0,children:"Información de contacto"}),r.jsx(M,{spacing:3,children:q.map((s,t)=>r.jsxs(xe,{sx:{p:2,display:"flex",alignItems:"center",gap:2,cursor:"pointer",transition:"0.3s","&:hover":{transform:"translateY(-3px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},textDecoration:"none"},component:"a",href:s.href,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(ee,{sx:{bgcolor:"primary.main",color:"white"},children:r.jsx(s.icon,{})}),r.jsxs(h,{children:[r.jsx(m,{variant:"subtitle1",fontWeight:600,sx:{textDecoration:"none"},children:s.label}),r.jsx(m,{variant:"body2",sx:{textDecoration:"none"},children:s.value}),r.jsx(m,{variant:"caption",color:"text.secondary",sx:{textDecoration:"none"},children:s.description})]})]},t))})]})}),r.jsx(H.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.4},children:r.jsxs(z,{sx:{p:3,background:n.palette.background.paper,border:`1px solid ${n.palette.divider}`},children:[r.jsx(m,{variant:"h5",gutterBottom:!0,children:"Conecta conmigo"}),r.jsx(M,{direction:"row",spacing:2,children:N.map((s,t)=>r.jsx(ee,{sx:{bgcolor:s.color,cursor:"pointer",width:48,height:48,"&:hover":{opacity:.8,transform:"scale(1.1)",transition:"0.3s"}},component:"a",href:s.href,target:"_blank",rel:"noopener noreferrer",children:r.jsx(s.icon,{})},t))})]})})]})]})]})})};export{De as default};
